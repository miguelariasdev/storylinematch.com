<section class="bg-gray-50 dark:bg-gray-900 pt-6 pb-6">
    <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto lg:py-0">
        <div
            class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700">
            <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
                <h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">
                    Create an account
                </h1>
                <form [formGroup]="registerForm" (ngSubmit)="createUser()" class="space-y-4 md:space-y-6">
                    <div>
                        <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your
                            name</label>
                        <input type="text" formControlName="name" id="name" required
                            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                            required="">
                        <div class="mb-4 text-red-600" *ngIf="registerForm.controls['name'].invalid && registerForm.controls['name'].touched">
                            <p *ngIf="registerForm.controls['name'].errors?.['required']">The name is required.</p>
                            <p *ngIf="registerForm.controls['name'].errors?.['pattern']">Only letters and spaces allowed
                                in the name.</p>
                            <p *ngIf="registerForm.controls['name'].errors?.['maxlength']">The name cannot exceed 30
                                characters.</p>
                        </div>
                    </div>
                    <div>
                        <label for="lastname" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your
                            lastname</label>
                        <input type="text" formControlName="lastname" id="lastname" required
                            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                            required="">
                        <div class="mb-4 text-red-600"
                            *ngIf="registerForm.controls['lastname'].invalid && registerForm.controls['lastname'].touched">
                            <p *ngIf="registerForm.controls['lastname'].errors?.['required']">The last name is required.
                            </p>
                            <p *ngIf="registerForm.controls['lastname'].errors?.['pattern']">Only letters and spaces
                                allowed in the name.</p>
                            <p *ngIf="registerForm.controls['lastname'].errors?.['maxlength']">The lastname cannot
                                exceed 30 characters.</p>
                        </div>
                    </div>

                    <div>
                        <label for="username" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your
                            username</label>
                        <input formControlName="username" type="text" id="username" required
                            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                            required="">
                        <div class="mb-4 text-red-600"
                            *ngIf="registerForm.controls['username'].invalid && registerForm.controls['username'].touched">
                            <p *ngIf="registerForm.controls['username'].errors?.['required']">The username is required.
                            </p>
                            <p *ngIf="registerForm.controls['username'].errors?.['pattern']">Only letters and numbers
                                allowed in username.</p>
                            <p *ngIf="registerForm.controls['username'].errors?.['maxlength']">The username cannot
                                exceed 20 characters.</p>
                        </div>
                    </div>
                    <div>
                        <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your
                            email</label>
                        <input formControlName="email" type="email" id="email" required
                            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                            placeholder="name@company.com" required="">
                        <div class="mb-4 text-red-600" *ngIf="registerForm.controls['email'].invalid && registerForm.controls['email'].touched">
                            <p *ngIf="registerForm.controls['email'].errors?.['required']">Email is required.</p>
                            <p *ngIf="registerForm.controls['email'].errors?.['email']">Please enter a valid email.</p>
                        </div>
                    </div>
                    <div>
                        <label for="password"
                            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label>
                        <input formControlName="password" type="password" id="password" required placeholder="••••••••"
                            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                            required="">
                        <div class="mb-4 text-red-600"
                            *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].touched">
                            <div *ngIf="registerForm.controls['password'].errors?.['required']">
                                The password is required
                            </div>
                            <div *ngIf="registerForm.controls['password'].errors?.['minlength']">
                                The password must be at least 7 characters.
                            </div>
                            <div *ngIf="registerForm.controls['password'].errors?.['passwordStrength']">
                                The password must have at least one number and one capital letter.
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="confirm-password"
                            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Confirm
                            password</label>
                        <input formControlName="confirmPassword" type="password" id="confirmPassword" required
                            placeholder="••••••••"
                            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                            required="">
                        <div class="mb-4 text-red-600"
                            *ngIf="registerForm.errors?.['notSame'] && registerForm.controls['confirmPassword'].touched">
                            Passwords do not match.
                        </div>
                    </div>
                    <button type="submit"
                        class="w-full py-2 px-10 text-s font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800">Create
                        an account</button>
                    <div *ngIf="errorMessage" class="mb-4 text-red-600">
                        {{ errorMessage }}
                    </div>
                    <p class="text-sm font-light text-gray-500 dark:text-gray-400">
                        Already have an account? <a routerLink="/"
                            class="font-medium text-primary-600 hover:underline dark:text-primary-500">Login here</a>
                    </p>
                </form>
            </div>
        </div>
    </div>
    <div class="modal" *ngIf="showModal">
        <!-- Modal Backdrop -->
        <div class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full" id="my-modal">
            <!-- Modal -->
            <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
                <!-- Modal Header -->
                <div class="flex justify-between items-center pb-3">
                    <div class="cursor-pointer z-50" (click)="closeModal()">
                        <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                            viewBox="0 0 18 18">
                            <path
                                d="M11.245 9l6.364-6.364-2.121-2.121L9 6.755 2.636.391 0.515 2.512 6.879 8.89l-6.364 6.364 2.121 2.121L9 11.245l6.364 6.364 2.121-2.121L11.245 9z" />
                        </svg>
                    </div>
                </div>
                <!-- Modal Body -->
                <p>{{message}}</p>
                <!-- Modal Footer -->
                <div class="flex justify-end pt-2">
                    <button class="px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2"
                        (click)="closeModal()">Close</button>
                </div>
            </div>
        </div>
    </div>
</section>